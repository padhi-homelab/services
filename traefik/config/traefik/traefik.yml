accessLog:
  bufferingSize: 32
  fields:
    defaultMode: drop
    names:
      Duration: keep
      RouterName: keep
      ServiceName: keep
      ClientAddr: keep
      RequestAddr: keep
      RequestPath: keep
      RequestProtocol: keep
      RequestScheme: keep
      RequestContentSize: keep
      OriginStatus: keep
      DownstreamStatus: keep
      Overhead: keep
      RetryAttempts: keep
      TLSVersion: keep
    headers:
      defaultMode: drop
      names:
        Referer: keep
        User-Agent: keep
  format: json

api:
  dashboard: true
  insecure: false

entryPoints:
  internal:
    address: ":8080"
  lan-http:
    address: ":9080"
    http:
      middlewares:
      - compress-response@file
      - lan-ip-whitelist@file
  lan-https:
    address: ":9443"
    http:
      middlewares:
      - compress-response@file
      - lan-ip-whitelist@file
      - ssl-headers@file
      - security-headers@file
      tls: true
  wan-https:
    address: ":443"
    http:
      middlewares:
      - compress-response@file
      - ssl-headers@file
      - security-headers@file
      tls: true

global:
  checkNewVersion: false
  sendAnonymousUsage: false

logs:
  format: json
  level: INFO

ping:
  entryPoint: internal

providers:
  docker:
    endpoint: "tcp://docker.sock-proxy:1279"
    exposedByDefault: false
    network: proxy
    watch: true
  file:
    directory: "/dynamic"
    watch: true

serversTransport:
  insecureSkipVerify: true
